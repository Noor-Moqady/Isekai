<!doctype html>
<html lang="en">

<head>
  {% load static %}
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Amazon FavIcon -->
  <link rel="icon" href="{% static 'img/amazon_favicon.ico' %}" image="image/gif" size="16x16">
  <!-- Bootstrap CSS
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous"> -->

  <!-- Font Awesome CSS CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"
    integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog=="
    crossorigin="anonymous" />
  <!-- Bootstrap CSS Local -->
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  <!-- Drawer CSS File -->
  <link rel="stylesheet" href="{% static 'css/bootstrap-drawer.min.css' %}">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'css/custom.css' %}">
  <title>Isekai : Change Password</title>
</head>

<body>

<!-- Messenger Chat plugin Code -->
<div id="fb-root"></div>

<!-- Your Chat plugin code -->
<div id="fb-customer-chat" class="fb-customerchat">
</div>

<script>
  var chatbox = document.getElementById('fb-customer-chat');
  chatbox.setAttribute("page_id", "210840512103500");
  chatbox.setAttribute("attribution", "biz_inbox");
</script>

<!-- Your SDK code -->
<script>
  window.fbAsyncInit = function() {
    FB.init({
      xfbml            : true,
      version          : 'v18.0'
      
    });
  };

  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

<!-- Messenger Chat plugin Code -->
    <div id="fb-root"></div>

    <!-- Your Chat plugin code -->
    <div id="fb-customer-chat" class="fb-customerchat">
    </div>

    <script>
      var chatbox = document.getElementById('fb-customer-chat');
      chatbox.setAttribute("page_id", "210840512103500");
      chatbox.setAttribute("attribution", "biz_inbox");
    </script>

    <!-- Your SDK code -->
    <script>
      window.fbAsyncInit = function() {
        FB.init({
          xfbml            : true,
          version          : 'v18.0'
        });
      };

      (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
    </script>



  {% if messages %}
  <ul class="messages">    
      {% for message in messages %}    
          <li {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>    
      {% endfor %}
  </ul>
  {% endif %}
  <!-- Navbar Starts -->
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <!-- Drawer Start -->
    <button class="btn btn-outline-light" data-toggle="drawer" data-target="#amazonDrawer">
      <i class="fas fa-sliders-h"></i>
    </button>


    <div class="drawer drawer-left slide" tabindex="-1" role="dialog" aria-labelledby="drawer-demo-title"
      aria-hidden="true" id="amazonDrawer">
      <div class="drawer-content drawer-content-scrollable" role="document">
        <div class="drawer-header bg-dark text-white">
          <h4 class="drawer-title mx-auto" id="drawer-demo-title">
            <i class="fas fa-user-circle"></i>
            {% if 'user_id' not in request.session %}
            Hello, Sign In
            {% endif %}
            {% if 'user_id' in request.session %}
            Hello {{request.session.username}}
            {% endif %}
          </h4>
        </div>
        <div class="drawer-body">
          <h6 class="text-muted text-uppercase">Help & Settings</h6>
          <a href="/your_account" class="btn btn-outline-success my-2 btn-sm">You Account</a>
          {% if 'user_id' not in request.session %}
          <a href="/login" class="btn btn-warning my-2  btn-sm">Sign in</a>
          <a href="/register" class="btn btn-warning my-2  btn-sm">SignUp</a>
          {% endif %}
          {% if 'user_id' in request.session %}
          <a href="/logout" class="btn btn-warning my-2  btn-sm">Logout</a>
          {% endif %}
        </div>
        <div class="drawer-footer">
          <button type="button" class="btn btn-outline-danger btn-sm" data-dismiss="drawer" aria-label="Close">
            <i class="fas fa-2x fa-times"></i>
          </button>
        </div>
      </div>
    </div> <!-- Drawer Ends -->
    
    <a class="navbar-brand pl-2" href="/">
      <img src="{% static 'img/logo.png' %}" height="40" width="100" alt="logo">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <!-- Search Bar Starts -->
      <form class="form-inline px-lg-5" novalidate method="get">
        <div class="input-group">
          <div class="input-group-prepend">
            <div class="dropdown">
              <button class="btn btn-secondary dropdown-toggle" name="btnCategory" type="button"
                id="btnCategoryDropdownMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                All
              </button>
              <div class="dropdown-menu" aria-labelledby="btnCategoryDropdownMenu">
                <a class="dropdown-item" href="#">All</a>
                <a class="dropdown-item" href="#">Smartphone</a>
                <a class="dropdown-item" href="#">Kitchen Hardware</a>
                <a class="dropdown-item" href="#">Prime Deals</a>
                <a class="dropdown-item" href="#">Book</a>
              </div>
            </div>
          </div>
          <input type="text" class="form-control" size="50" name="query" id="query">
          <input type="text" name="category" id="category" value="book" hidden>
          <div class="input-group-append">
            <button type="submit" class="btn btn-warning">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
      </form> <!-- Search Bar Ends -->
      <ul class="navbar-nav">
        <!-- Preffered Language Starts -->
        <li class="nav-item dropdown px-2">
          <a class="nav-link" href="#" id="prefLanguageDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-2x fa-language"></i>
          </a>
          <div class="dropdown-menu" aria-labelledby="prefLanguageDropdown">
            <form class="p-3">
              <div class="dropdown-divider"></div>
              <div class="custom-control custom-radio mb-2">
                <input class="custom-control-input" type="radio" name="prefLang" id="englishLang" value="english"
                  checked>
                <label class="custom-control-label" for="englishLang">
                  <img src="{% static 'img/flag/english.jpg' %}" alt="uk flag" width="50" height="30">
                </label>
              </div>
              <div class="dropdown-divider"></div>
              <div class="custom-control custom-radio mb-2">
                <input class="custom-control-input" type="radio" name="prefLang" id="hindiLang" value="hindi" checked>
                <label class="custom-control-label" for="hindiLang">
                  <img src="{% static 'img/flag/hindi.svg' %}" alt="uk flag" width="50" height="30">
                </label>
              </div>
              <div class="dropdown-divider"></div>
              <div class="custom-control custom-radio mb-2">
                <input class="custom-control-input" type="radio" name="prefLang" id="urduLang" value="urdu" checked>
                <label class="custom-control-label" for="urduLang">
                  <img src="{% static 'img/flag/urdu.svg' %}" alt="uk flag" width="50" height="30">
                </label>
              </div>
              <div class="dropdown-divider"></div>
              <div class="custom-control custom-radio">
                <input class="custom-control-input" type="radio" name="prefLang" id="banglaLang" value="bangla" checked>
                <label class="custom-control-label" for="banglaLang">
                  <img src="{% static 'img/flag/bangla.jpg' %}" alt="uk flag" width="50" height="30">
                </label>
              </div>
              <div class="dropdown-divider"></div>
            </form>
          </div>
        </li> <!-- Preffered Language Ends -->
        <!-- User Account Starts -->
        <li class="nav-item dropdown px-2">
          <a class="nav-link" href="/login" id="userAccount" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-2x fa-user-circle"></i>
          </a>
          <div class="dropdown-menu px-3" aria-labelledby="userAccount">
            <div class="d-flex flex-column justify-content-center">
              <a href="/login" class="btn btn-warning w-75 btn-sm font-weight-bold">Signin</a>
              <small>New customer?<a href="/register"> Start here.</a></small>
            </div>
          </div>
        </li> <!-- User Account Ends -->
        <!-- Shopping Cart Starts -->
        <li class="nav-item px-2">
          <a class="nav-link" href="/cart" aria-disabled=" true">
            <i class="fas fa-2x text-light fa-shopping-cart"></i>
            {% if 'user_id' not in request.session %}
            <span class="badge badge-warning badge-pill">0</span>
            {% endif %}

            
            {% if 'user_id' in request.session %}

            <!-- <span class="badge badge-warning badge-pill">{{allitems.all|length}}</span> -->
            
            <span class="badge badge-warning badge-pill">{{specific_user.order_items_for_user.count}}</span>
            
            {% endif %}
           
          </a>
        </li> <!-- Shopping Cart Starts -->
      </ul>
    </div>
  </nav> <!-- Navbar Ends -->

  <!-- Change Password Form Card Starts -->
  <div class="container w-50 mt-5 mb-5">
    <!-- URL Breadcrumb Starts -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb bg-transparent ml-n3">
        <li class="breadcrumb-item"><a href="/your_account">Your Account</a></li>
        <li class="breadcrumb-item active text-danger" aria-current="page">Change Password</li>
      </ol>
    </nav> <!-- URL Breadcrumb Ends -->

    <h3>Change Password</h3>

    <!-- Change Password Form Starts -->
    <form action="/change-password" class="needs-validation w-85 mx-auto mt-5 font-weight-bold" autocomplete="off" method="post" action="#" novalidate>
      {% csrf_token %}
      <div class="form-group">
        <label for="username">Your Email: </label>
        <input type="text" name="email" class="form-control" placeholder="Your Email" id="email"
          required minlength="10">
        <div class="valid-feedback">
          <i class="far text-success fa-thumbs-up"></i> OK
        </div>
        <div class="invalid-feedback">
          <i class="fas text-danger fa-exclamation-triangle"></i> Some error in your name.
        </div>
      </div>

      <div class="form-group">
        <label for="currentPassword">Current Password: </label>
        <input type="password" class="form-control" placeholder="******" name="currentPassword" id="currentPassword"
          required minlength="6">
        <div class="valid-feedback">
          <i class="far text-success fa-thumbs-up"></i> OK
        </div>
        <div class="invalid-feedback">
          <i class="fas text-danger fa-exclamation-triangle"></i> Some error in old password.
        </div>
      </div>

      <div class="form-group">
        <label for="newPassword">New Password: </label>
        <input type="password" class="form-control" placeholder="******" name="newpassword" id="newPassword"
          aria-describedby="passwordHelp" required minlength="6">
        <small id="passwordHelp" class="form-text text-muted"><i class="fas text-primary fa-info"></i> Password must be at least 6 characters.</small>
        <div class="valid-feedback">
          <i class="far text-success fa-thumbs-up"></i> OK
        </div>
        <div class="invalid-feedback">
          <i class="fas text-danger fa-exclamation-triangle"></i> Some error in password.
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirm New Password: </label>
        <input type="password" class="form-control" placeholder="******" name="password_confirm" id="confirmPassword"
          aria-describedby="passwordHelp" required minlength="6">
        <small id="passwordHelp" class="form-text text-muted"><i class="fas text-primary fa-info"></i> Re-Type new password.</small>
        <div class="valid-feedback">
          <i class="far text-success fa-thumbs-up"></i> OK
        </div>
        <div class="invalid-feedback">
          <i class="fas text-danger fa-exclamation-triangle"></i> Some error in password.
        </div>
      </div>

      <button type="submit" class="btn btn-warning shadow btn-sm rounded">Update</button>
    </form> <!-- Change Password Form Ends -->
  </div> <!-- Change Password Form Card Ends -->

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
    integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
    crossorigin="anonymous"></script>
  <!-- Drawer JS File -->
  <script src="{% static 'js/bootstrap-drawer.min.js' %}"></script>
  <!-- Custom JavaScript -->
  <script src="{% static 'js/custom.js' %}"></script>

  <script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function() {
      'use strict';
      window.addEventListener('load', function() {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName('needs-validation');
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function(form) {
          form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add('was-validated');
          }, false);
        });
      }, false);
    })();
    </script>
</body>

</html>